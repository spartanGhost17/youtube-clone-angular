<div class="upload-video-details-container">
  <div class="left-video-detail-container">
        <!-- Text details -->
        <div class="video-text-details">
          <h1>Details</h1>  
          <nz-input-group [nzSuffix]="inputClearTpl">
            <input type="text" nz-input [ngModel]="getTitleValue()" (ngModelChange)="setTitleValue($event)" placeholder="input with clear icon" />
          </nz-input-group>
          <ng-template #inputClearTpl>
            <span
              nz-icon
              class="ant-input-clear-icon"
              nzTheme="fill"
              nzType="close-circle"
              *ngIf="getTitleValue()"
              (click)="setTitleValue(null)"
            ></span>
          </ng-template>
          <br />
          <br />
          <nz-input-group [nzSuffix]="textAreaClearTpl" class="ant-input-affix-wrapper-textarea-with-clear-btn">
            <textarea nz-input [(ngModel)]="textValue" placeholder="Tell viewers about your video (type @ to mention a channel)"></textarea>
          </nz-input-group>
          <ng-template #textAreaClearTpl>
            <span
              nz-icon
              class="ant-input-clear-icon"
              nzTheme="fill"
              nzType="close-circle"
              *ngIf="textValue"
              (click)="textValue = null"
            ></span>
          </ng-template>
        </div>
        <!-- images-thumbnails -->
        <div class="metadata-images-thumbnails">
          <p class="text-header">Thumbnail</p>
          <p class="text-description">
            Select or upload a picture that shows what's in your video. A good thumbnail stands out and draws viewers' attention. 
            <a target="_blank" href="https://support.google.com/youtube/answer/72431?hl=en-GB">Learn more</a>
          </p>
          <div nz-row [nzGutter]="[hGutter, vGutter]">
            <div nz-col class="thumbnail-gutter-row" [nzSpan]="24 / count" *ngFor="let i of array">
              <div class="thumbnail-grid-config">
                <img nz-image width="100%" height="100%" nzSrc="../../../assets/goku.jpg" [nzFallback]="fallback" alt="" />
              </div>
            </div>
          </div>
        </div>
        <!-- Paylist -->
        <div class="metadata-select-playlist">
          <p class="text-header">Playlists</p>
          <p class="text-description">
            Add your video to one or more playlists. Playlists can help viewers to discover your content faster. 
            <a target="_blank" href="https://support.google.com/youtube/answer/57792">Learn more</a>
          </p>
          <div style="width: 100%;">
            <button #playListBtn [(ngModel)]="showDropdown" (click)="showUserPlayLists(); toggleDropdown()" nzSize="large" ngDefaultControl>
              <span>Select {{showDropdown}}</span>
              <span nz-icon nzType="caret-down"></span>
            </button>
            <!-- Playlist dropdown -->
            <app-drop-down 
              [showDropdown]="showDropdown" 
              [header]="headerTemplate" 
              [body]="bodyTemplate" 
              [footer]="footerTemplate" 
              [dropdownWidth]="'500px'"
              [buttonRef]="showPlaylistBtn">
            </app-drop-down>
          </div>

          <ng-template #headerTemplate>
            <div  style="text-align: center; width: 100%">
              <input [ngStyle]="{'border-radius': '10px', 'border':'none' }" type="text" />
            </div>
          </ng-template>
          
          <ng-template #bodyTemplate>
            <nz-table>
              <thead>
              </thead>
              <tbody>
                <tr *ngFor="let item of data" style="margin-bottom: 4px;">
                  <td>
                    <label nz-checkbox [(ngModel)]="item.checked" (ngModelChange)="selectSinglePlaylist($event, item)"></label>
                  </td>&nbsp;&nbsp;
                  <td  style="text-align: center; align-items: center;">
                    <span>{{ item.label }}</span>
                  </td>
                </tr>
              </tbody>
            </nz-table>
          </ng-template>
          
          <ng-template #footerTemplate>
            <button nz-button nz-popover [ngStyle]="{float:'left', border:'none'}" nzType="primary" nzPopoverTrigger="click" [nzPopoverContent]="newPlaylistPopover">
              <span>NEW PLAYLIST</span>
              <span nz-icon nzType="caret-down"></span>
            </button>
            <button nz-button [ngStyle]="{float:'right', border:'none'}">
              <span>DONE</span>
            </button>
          </ng-template>

          <ng-template #newPlaylistPopover>
            <button nz-button nzSize="small" (click)="isVisibleNewPlaylist = !isVisibleNewPlaylist">
              <span nz-icon nzType="pic-right" nzTheme="outline"></span>&nbsp;
              <span>New Playlist</span>
            </button>
          </ng-template>
          <!-- Create new playlist view -->
          <nz-modal #createNewPlaylist [(nzVisible)]="isVisibleNewPlaylist" [nzTitle]="'Create a new playlist'" [nzStyle]="{ top: '20px'}">
            <div *nzModalContent class="model-content">
              <div class="container">
                <p class="text-header">Header</p>
                <div class="input-container">
                  <input type="text" id="myInput" placeholder="Add title">
                </div>
              </div>
              <div class="container" [ngStyle]="{height: '200px'}">
                <p class="text-header">Description</p>
                <div class="input-container">
                  <input type="text" id="myInput" placeholder="Add Description">
                </div>
              </div>
              <div class="container">
                <button nz-button style="width: 100%; height: 40px; border: none">
                  {{visibility}}
                  <span nz-icon nzType="caret-down" nzTheme="outline" style="border: none"></span>&nbsp;
                </button>
              </div>
            </div>
            <div *nzModalFooter>
              <button nz-button (click)="closeCreateNewPlaylist()">CANCEL</button>
              <button nz-button (click)="closeCreateNewPlaylist()">CREATE</button>
            </div>
          </nz-modal>

        </div>
        <!-- Extra video metadata -->
        <div class="extra-metadata-container">
          <button class="extra-metadata-button" (click)="showExtraMetadata()" nz-button nz-dropdown nzSize="default">
            <span>{{showExtraMetadataText}}</span>
          </button>
          <div *ngIf="shouldShowExtraMeta" class="extra-metadata">
            <div class="metadata-labels">
              <nz-input-group [nzSuffix]="metadataLabelsTpl" class="ant-input-affix-wrapper-textarea-with-clear-btn">
                <!--<textarea nz-input [(ngModel)]="textValue" placeholder="Add tag"></textarea>-->
                <app-chips (chipsUpdated)="chipsUpdated($event)"></app-chips>
              </nz-input-group>
              <ng-template #metadataLabelsTpl>
                <span
                  nz-icon
                  class="ant-input-clear-icon"
                  nzTheme="fill"
                  nzType="close-circle"
                  *ngIf="textValue"
                  (click)="textValue = null"
                ></span>
              </ng-template>
            </div>
          </div>
        </div>
  </div>
  <div class="right-video-detail-container">
      <p>right content</p>
  </div>
</div>
